FROM debian:bookworm-slim

# Establecer el entorno para evitar preguntas interactivas durante la instalaci贸n
ENV DEBIAN_FRONTEND=noninteractive

# Instalar vsftpd
RUN apt-get update && apt-get upgrade -y && apt-get install -y \
    vsftpd \
    && rm -rf /var/lib/apt/lists/*

# Crear el directorio necesario para la configuraci贸n de vsftpd
RUN mkdir -p /etc/vsftpd

# Copiar el archivo de configuraci贸n y el script de entrada al contenedor
COPY /requirements/bonus/ftp-service/tools/vsftpd.conf /tmp/vsftpd.conf
COPY /requirements/bonus/ftp-service/tools/entrypoint.sh /tmp/entrypoint.sh

# Asegurarse de que el script de entrada sea ejecutable
RUN chmod +x /tmp/entrypoint.sh

# Iniciar vsftpd con el archivo de configuraci贸n copiado
ENTRYPOINT ["sh", "/tmp/entrypoint.sh"]
